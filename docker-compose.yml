# Define services (containers)
services:
  # Name of your service
  vector-search:

    build:
      context: .
      dockerfile: Dockerfile
      target: builder  # Use builder stage with CMake installed

    container_name: vector-search-engine
    
    ports:
      - "8080:8080"
      - "9090:9090"  # Metrics port
    

    volumes:
      - ./:/app
      - ./data:/app/data  # Persistent data
    
    environment:
      - LOG_LEVEL=info
      - MAX_VECTORS=100000
    